(this["webpackJsonpreact-todo-2"]=this["webpackJsonpreact-todo-2"]||[]).push([[0],{38:function(e,t,n){e.exports={Todo:"Todo_Todo__17XaG",DeleteButton:"Todo_DeleteButton__3O6Sm",crossedOut:"Todo_crossedOut__vi4Rw"}},67:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n.n(c),r=n(26),i=n.n(r),o=(n(67),n(68),n(11)),d=n(7),j=n(88),u=n(87),l=n(37),O=n(8),b=n(51),h=(n(74),b.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MEASUREMENT_ID})),x=h.auth(),p=Object(c.createContext)();function S(e){var t=e.children,n=Object(c.useState)(),s=Object(O.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(!0),d=Object(O.a)(o,2),j=d[0],u=d[1];Object(c.useEffect)((function(){return x.onAuthStateChanged((function(e){i(e),u(!1)}))}),[]);var l={currentUser:r,signup:function(e,t){return x.createUserWithEmailAndPassword(e,t)},login:function(e,t){return x.signInWithEmailAndPassword(e,t)},logout:function(){return x.signOut()},resetPassword:function(e){return x.sendPasswordResetEmail(e)}};return Object(a.jsx)(p.Provider,{value:l,children:!j&&t})}function _(){return Object(c.useContext)(p)}var m=function(){var e=_().currentUser?Object(a.jsx)(l.LinkContainer,{to:"/logout",children:Object(a.jsx)(j.a.Link,{children:"Logout"})}):Object(a.jsx)(l.LinkContainer,{to:"/signup",children:Object(a.jsx)(j.a.Link,{children:"Register"})});return Object(a.jsxs)(u.a,{bg:"light",variant:"light",children:[Object(a.jsx)(l.LinkContainer,{to:"/",children:Object(a.jsx)(u.a.Brand,{href:"/",children:"Logo"})}),Object(a.jsx)(j.a,{className:"ml-auto",children:e})]})},f=n(45),v=n(55),E=n(56),T=n(61),k=n(60),C=n(85),g=n(83),A=n(86),R=n(57),D=n(82),P=n(38),N=n.n(P),w=function(e){return Object(a.jsxs)(R.a,{className:N.a.Todo,children:[Object(a.jsx)(A.a.Check,{inline:!0,type:"checkbox",custom:!0,id:"taskDone".concat(e.id),onChange:e.onTaskChecked,checked:e.done}),Object(a.jsx)("span",{className:e.done?[N.a.crossedOut,"text-muted"].join(" "):null,children:e.name}),Object(a.jsx)(D.a,{size:"sm",className:N.a.DeleteButton,variant:"outline-danger",onClick:e.onTaskDeleted,children:"X"})]})},y=function(e){return Object(a.jsx)(g.a,{variant:"flush",children:Object.keys(e.tasks).map((function(t,n){var c=e.tasks[t];return Object(a.jsx)(w,{name:c.name,done:c.done,id:c.id,onTaskChecked:function(t){return e.onTaskChecked(t,c.id)},onTaskDeleted:function(t){return e.onTaskDeleted(c.id)}},n)}))})};y.defaultProps={tasks:[]};var L=y,I=n(84),H=n(58),F=function(e){return Object(a.jsx)(A.a,{style:{margin:"3vh auto"},onSubmit:e.submit,children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(H.a,{children:Object(a.jsx)(A.a.Control,{value:e.taskName,onChange:e.changed,placeholder:"Add your task here :)"})}),Object(a.jsx)(H.a,{xs:"auto",children:Object(a.jsx)(D.a,{disabled:e.disabled,onClick:e.submit,children:"Add"})})]})})},W=n(59),B=function(e){Object(T.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={tasks:{},taskInputValue:"",canAdd:!1},e.onTaskInputHandler=function(t){var n=t.target;e.setState({taskInputValue:n.value}),e.setState({canAdd:e.validate(n.value)})},e.validate=function(e){return""!==e},e.onAddTaskClickHandler=function(t){t.preventDefault();var n=Object(f.a)({},e.state.tasks),a=Object(W.v1)();n[a]={name:e.state.taskInputValue,done:!1,id:a},e.setState({tasks:n,taskInputValue:"",canAdd:!1})},e.enqueueToDeletion=function(t){setTimeout((function(){e.state.tasks[t]&&e.state.tasks[t].done&&e.onTaskDeleteHandler(t)}),3e3)},e.onTaskDeleteHandler=function(t,n){var a=Object.entries(e.state.tasks).filter((function(e){var n=Object(O.a)(e,2);n[0];return n[1].id!==t}));e.setState({tasks:Object.fromEntries(a)})},e.onTaskDoneHandler=function(t,n){t.target;var a=Object(f.a)({},e.state.tasks);a[n].done=!a[n].done,e.setState({tasks:a}),e.enqueueToDeletion(n)},e}return Object(E.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(C.a,{className:"flex justify-content-center mx-5",children:[Object(a.jsx)(F,{changed:this.onTaskInputHandler,submit:this.onAddTaskClickHandler,taskName:this.state.taskInputValue,disabled:!this.state.canAdd}),Object(a.jsx)(L,{tasks:this.state.tasks,onTaskChecked:this.onTaskDoneHandler,onTaskDeleted:this.onTaskDeleteHandler})]})}}]),n}(c.Component),K=n(15),U=n.n(K),V=n(21),G=n(90),q=n(89),M=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),s=_(),r=s.signup,i=s.currentUser,j=Object(c.useState)(""),u=Object(O.a)(j,2),l=u[0],b=u[1],h=Object(c.useState)(!1),x=Object(O.a)(h,2),p=x[0],S=x[1];function m(){return(m=Object(V.a)(U.a.mark((function a(c){return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){a.next=3;break}return a.abrupt("return",b("Passwords do not match"));case 3:return a.prev=3,b(""),S(!0),a.next=8,r(e.current.value,t.current.value);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),b("Failed to create an account.");case 13:S(!1);case 14:case"end":return a.stop()}}),a,null,[[3,10]])})))).apply(this,arguments)}return Object(a.jsxs)(C.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(G.a,{children:Object(a.jsxs)(G.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Sign up"}),l&&Object(a.jsx)(q.a,{variant:"danger",children:l}),Object(a.jsxs)(A.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(a.jsxs)(A.a.Group,{id:"email",children:[Object(a.jsx)(A.a.Label,{children:"Email"}),Object(a.jsx)(A.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsxs)(A.a.Group,{id:"password",children:[Object(a.jsx)(A.a.Label,{children:"Password"}),Object(a.jsx)(A.a.Control,{type:"password",required:!0,ref:t})]}),Object(a.jsxs)(A.a.Group,{id:"password-confirm",children:[Object(a.jsx)(A.a.Label,{children:"Password confirmation"}),Object(a.jsx)(A.a.Control,{type:"password",required:!0,ref:n})]}),Object(a.jsx)(D.a,{disabled:p,className:"w-100",type:"submit",children:"Sign up"})]})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(a.jsx)(o.Link,{to:"/login",children:"Log in"})]})]}),!p&&i&&Object(a.jsx)(d.c,{to:"/"})]})},J=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=_(),s=n.login,r=n.currentUser,i=Object(c.useState)(""),j=Object(O.a)(i,2),u=j[0],l=j[1],b=Object(c.useState)(!1),h=Object(O.a)(b,2),x=h[0],p=h[1];function S(){return(S=Object(V.a)(U.a.mark((function n(a){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,l(""),p(!0),n.next=6,s(e.current.value,t.current.value);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l("Failed to sign in.");case 11:p(!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return Object(a.jsxs)(C.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(G.a,{children:Object(a.jsxs)(G.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Log in"}),u&&Object(a.jsx)(q.a,{variant:"danger",children:u}),Object(a.jsxs)(A.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(a.jsxs)(A.a.Group,{id:"email",children:[Object(a.jsx)(A.a.Label,{children:"Email"}),Object(a.jsx)(A.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsxs)(A.a.Group,{id:"password",children:[Object(a.jsx)(A.a.Label,{children:"Password"}),Object(a.jsx)(A.a.Control,{type:"password",required:!0,ref:t})]}),Object(a.jsx)(D.a,{disabled:x,className:"w-100",type:"submit",children:"Log in"})]}),Object(a.jsx)("div",{className:"w-100 text-center mt-3",children:Object(a.jsx)(o.Link,{to:"/forgot-password",children:"Forgot password?"})})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(a.jsx)(o.Link,{to:"/signup",children:"Sign up"})]})]}),!x&&r&&Object(a.jsx)(d.c,{to:"/"})]})},z=function(){var e=Object(c.useRef)(),t=_().resetPassword,n=Object(c.useState)(""),s=Object(O.a)(n,2),r=s[0],i=s[1],d=Object(c.useState)(!1),j=Object(O.a)(d,2),u=j[0],l=j[1],b=Object(c.useState)(""),h=Object(O.a)(b,2),x=h[0],p=h[1];function S(){return(S=Object(V.a)(U.a.mark((function n(a){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,p(""),i(""),l(!0),n.next=7,t(e.current.value);case 7:p("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),i("Failed to send password reset email.");case 13:l(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(a.jsx)(C.a,{className:"d-flex align-items-center justify-content-center mt-3",children:Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(G.a,{children:Object(a.jsxs)(G.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Password reset"}),r&&Object(a.jsx)(q.a,{variant:"danger",children:r}),x&&Object(a.jsx)(q.a,{variant:"success",children:x}),Object(a.jsxs)(A.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(a.jsxs)(A.a.Group,{id:"email",children:[Object(a.jsx)(A.a.Label,{children:"Email"}),Object(a.jsx)(A.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsx)(D.a,{disabled:u,className:"w-100",type:"submit",children:"Reset password"})]}),Object(a.jsx)("div",{className:"w-100 text-center mt-2",children:Object(a.jsx)(o.Link,{to:"/login",children:"Log in"})})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(a.jsx)(o.Link,{to:"/signup",children:"Sign up"})]})]})})},X=function(){var e=_(),t=e.logout,n=e.currentUser,s=Object(c.useState)(""),r=Object(O.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(!1),u=Object(O.a)(j,2),l=u[0],b=u[1],h=function(){var e=Object(V.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,o(""),b(!0),e.next=6,t();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o("Failed to log out.");case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(C.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(a.jsx)(G.a,{children:Object(a.jsxs)(G.a.Body,{children:[i&&Object(a.jsx)(q.a,{variant:"danger",children:i}),Object(a.jsx)(A.a,{onSubmit:h,children:Object(a.jsx)(D.a,{disabled:l,className:"w-100",type:"submit",children:"Log out"})})]})})}),!l&&!n&&Object(a.jsx)(d.c,{to:"/login"})]})},Y=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{}),Object(a.jsx)(C.a,{className:"d-flex justify-content-center",children:Object(a.jsxs)(d.g,{children:[Object(a.jsx)(d.d,{path:"/signup",component:M}),Object(a.jsx)(d.d,{path:"/login",component:J}),Object(a.jsx)(d.d,{path:"/logout",component:X}),Object(a.jsx)(d.d,{path:"/forgot-password",component:z}),Object(a.jsx)(d.d,{path:"/",exact:!0,component:B})]})})]})};var Q=function(){return Object(a.jsx)(S,{children:Object(a.jsx)(o.BrowserRouter,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"/react-todo-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_NAME,children:Object(a.jsx)(Y,{})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root")),Z()}},[[80,1,2]]]);
//# sourceMappingURL=main.cd9c3ddd.chunk.js.map