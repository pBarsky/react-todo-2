(this["webpackJsonpreact-todo-2"]=this["webpackJsonpreact-todo-2"]||[]).push([[0],{38:function(e,t,n){e.exports={Todo:"Todo_Todo__17XaG",DeleteButton:"Todo_DeleteButton__3O6Sm",crossedOut:"Todo_crossedOut__vi4Rw"}},67:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n.n(c),r=n(26),i=n.n(r),o=(n(67),n(68),n(11)),d=n(7),j=n(88),l=n(87),u=n(37),b=n(8),O=n(51),h=(n(74),O.a.initializeApp({apiKey:"AIzaSyDYTomNThpeKcHKEGAqEt_Gzpfb35stLnk",authDomain:"react-todo-redone.firebaseapp.com",projectId:"react-todo-redone",storageBucket:"react-todo-redone.appspot.com",messagingSenderId:"102484433322",appId:"1:102484433322:web:ade813e9546aa82286b3d3",measurementId:"G-PR36NWSSPT"})),x=h.auth(),p=Object(c.createContext)();function m(e){var t=e.children,n=Object(c.useState)(),s=Object(b.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(!0),d=Object(b.a)(o,2),j=d[0],l=d[1];Object(c.useEffect)((function(){return x.onAuthStateChanged((function(e){i(e),l(!1)}))}),[]);var u={currentUser:r,signup:function(e,t){return x.createUserWithEmailAndPassword(e,t)},login:function(e,t){return x.signInWithEmailAndPassword(e,t)},logout:function(){return x.signOut()},resetPassword:function(e){return x.sendPasswordResetEmail(e)}};return Object(a.jsx)(p.Provider,{value:u,children:!j&&t})}function f(){return Object(c.useContext)(p)}var k=function(){var e=f().currentUser?Object(a.jsx)(u.LinkContainer,{to:"/logout",children:Object(a.jsx)(j.a.Link,{children:"Logout"})}):Object(a.jsx)(u.LinkContainer,{to:"/signup",children:Object(a.jsx)(j.a.Link,{children:"Register"})});return Object(a.jsxs)(l.a,{bg:"light",variant:"light",children:[Object(a.jsx)(u.LinkContainer,{to:"/",children:Object(a.jsx)(l.a.Brand,{href:"/",children:"Logo"})}),Object(a.jsx)(j.a,{className:"ml-auto",children:e})]})},v=n(45),g=n(55),w=n(56),y=n(61),S=n(60),N=n(85),T=n(83),C=n(86),L=n(57),D=n(82),A=n(38),P=n.n(A),I=function(e){return Object(a.jsxs)(L.a,{className:P.a.Todo,children:[Object(a.jsx)(C.a.Check,{inline:!0,type:"checkbox",custom:!0,id:"taskDone".concat(e.id),onChange:e.onTaskChecked,checked:e.done}),Object(a.jsx)("span",{className:e.done?[P.a.crossedOut,"text-muted"].join(" "):null,children:e.name}),Object(a.jsx)(D.a,{size:"sm",className:P.a.DeleteButton,variant:"outline-danger",onClick:e.onTaskDeleted,children:"X"})]})},B=function(e){return Object(a.jsx)(T.a,{variant:"flush",children:Object.keys(e.tasks).map((function(t,n){var c=e.tasks[t];return Object(a.jsx)(I,{name:c.name,done:c.done,id:c.id,onTaskChecked:function(t){return e.onTaskChecked(t,c.id)},onTaskDeleted:function(t){return e.onTaskDeleted(c.id)}},n)}))})};B.defaultProps={tasks:[]};var R=B,E=n(84),F=n(58),G=function(e){return Object(a.jsx)(C.a,{style:{margin:"3vh auto"},onSubmit:e.submit,children:Object(a.jsxs)(E.a,{children:[Object(a.jsx)(F.a,{children:Object(a.jsx)(C.a.Control,{value:e.taskName,onChange:e.changed,placeholder:"Add your task here :)"})}),Object(a.jsx)(F.a,{xs:"auto",children:Object(a.jsx)(D.a,{disabled:e.disabled,onClick:e.submit,children:"Add"})})]})})},H=n(59),_=function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={tasks:{},taskInputValue:"",canAdd:!1},e.onTaskInputHandler=function(t){var n=t.target;e.setState({taskInputValue:n.value}),e.setState({canAdd:e.validate(n.value)})},e.validate=function(e){return""!==e},e.onAddTaskClickHandler=function(t){t.preventDefault();var n=Object(v.a)({},e.state.tasks),a=Object(H.v1)();n[a]={name:e.state.taskInputValue,done:!1,id:a},e.setState({tasks:n,taskInputValue:"",canAdd:!1})},e.enqueueToDeletion=function(t){setTimeout((function(){e.state.tasks[t]&&e.state.tasks[t].done&&e.onTaskDeleteHandler(t)}),3e3)},e.onTaskDeleteHandler=function(t,n){var a=Object.entries(e.state.tasks).filter((function(e){var n=Object(b.a)(e,2);n[0];return n[1].id!==t}));e.setState({tasks:Object.fromEntries(a)})},e.onTaskDoneHandler=function(t,n){t.target;var a=Object(v.a)({},e.state.tasks);a[n].done=!a[n].done,e.setState({tasks:a}),e.enqueueToDeletion(n)},e}return Object(w.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(N.a,{className:"flex justify-content-center mx-5",children:[Object(a.jsx)(G,{changed:this.onTaskInputHandler,submit:this.onAddTaskClickHandler,taskName:this.state.taskInputValue,disabled:!this.state.canAdd}),Object(a.jsx)(R,{tasks:this.state.tasks,onTaskChecked:this.onTaskDoneHandler,onTaskDeleted:this.onTaskDeleteHandler})]})}}]),n}(c.Component),q=n(15),W=n.n(q),U=n(21),V=n(90),z=n(89),K=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),s=f(),r=s.signup,i=s.currentUser,j=Object(c.useState)(""),l=Object(b.a)(j,2),u=l[0],O=l[1],h=Object(c.useState)(!1),x=Object(b.a)(h,2),p=x[0],m=x[1];function k(){return(k=Object(U.a)(W.a.mark((function a(c){return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){a.next=3;break}return a.abrupt("return",O("Passwords do not match"));case 3:return a.prev=3,O(""),m(!0),a.next=8,r(e.current.value,t.current.value);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),O("Failed to create an account.");case 13:m(!1);case 14:case"end":return a.stop()}}),a,null,[[3,10]])})))).apply(this,arguments)}return Object(a.jsxs)(N.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(V.a,{children:Object(a.jsxs)(V.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Sign up"}),u&&Object(a.jsx)(z.a,{variant:"danger",children:u}),Object(a.jsxs)(C.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(a.jsxs)(C.a.Group,{id:"email",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsxs)(C.a.Group,{id:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",required:!0,ref:t})]}),Object(a.jsxs)(C.a.Group,{id:"password-confirm",children:[Object(a.jsx)(C.a.Label,{children:"Password confirmation"}),Object(a.jsx)(C.a.Control,{type:"password",required:!0,ref:n})]}),Object(a.jsx)(D.a,{disabled:p,className:"w-100",type:"submit",children:"Sign up"})]})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(a.jsx)(o.Link,{to:"/login",children:"Log in"})]})]}),!p&&i&&Object(a.jsx)(d.c,{to:"/"})]})},J=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=f(),s=n.login,r=n.currentUser,i=Object(c.useState)(""),j=Object(b.a)(i,2),l=j[0],u=j[1],O=Object(c.useState)(!1),h=Object(b.a)(O,2),x=h[0],p=h[1];function m(){return(m=Object(U.a)(W.a.mark((function n(a){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,u(""),p(!0),n.next=6,s(e.current.value,t.current.value);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),u("Failed to sign in.");case 11:p(!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return Object(a.jsxs)(N.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(V.a,{children:Object(a.jsxs)(V.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Log in"}),l&&Object(a.jsx)(z.a,{variant:"danger",children:l}),Object(a.jsxs)(C.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(a.jsxs)(C.a.Group,{id:"email",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsxs)(C.a.Group,{id:"password",children:[Object(a.jsx)(C.a.Label,{children:"Password"}),Object(a.jsx)(C.a.Control,{type:"password",required:!0,ref:t})]}),Object(a.jsx)(D.a,{disabled:x,className:"w-100",type:"submit",children:"Log in"})]}),Object(a.jsx)("div",{className:"w-100 text-center mt-3",children:Object(a.jsx)(o.Link,{to:"/forgot-password",children:"Forgot password?"})})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(a.jsx)(o.Link,{to:"/signup",children:"Sign up"})]})]}),!x&&r&&Object(a.jsx)(d.c,{to:"/"})]})},X=function(){var e=Object(c.useRef)(),t=f().resetPassword,n=Object(c.useState)(""),s=Object(b.a)(n,2),r=s[0],i=s[1],d=Object(c.useState)(!1),j=Object(b.a)(d,2),l=j[0],u=j[1],O=Object(c.useState)(""),h=Object(b.a)(O,2),x=h[0],p=h[1];function m(){return(m=Object(U.a)(W.a.mark((function n(a){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,p(""),i(""),u(!0),n.next=7,t(e.current.value);case 7:p("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),i("Failed to send password reset email.");case 13:u(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(a.jsx)(N.a,{className:"d-flex align-items-center justify-content-center mt-3",children:Object(a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(a.jsx)(V.a,{children:Object(a.jsxs)(V.a.Body,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:"Password reset"}),r&&Object(a.jsx)(z.a,{variant:"danger",children:r}),x&&Object(a.jsx)(z.a,{variant:"success",children:x}),Object(a.jsxs)(C.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(a.jsxs)(C.a.Group,{id:"email",children:[Object(a.jsx)(C.a.Label,{children:"Email"}),Object(a.jsx)(C.a.Control,{type:"email",required:!0,ref:e})]}),Object(a.jsx)(D.a,{disabled:l,className:"w-100",type:"submit",children:"Reset password"})]}),Object(a.jsx)("div",{className:"w-100 text-center mt-2",children:Object(a.jsx)(o.Link,{to:"/login",children:"Log in"})})]})}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(a.jsx)(o.Link,{to:"/signup",children:"Sign up"})]})]})})},M=function(){var e=f(),t=e.logout,n=e.currentUser,s=Object(c.useState)(""),r=Object(b.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(!1),l=Object(b.a)(j,2),u=l[0],O=l[1],h=function(){var e=Object(U.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,o(""),O(!0),e.next=6,t();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o("Failed to log out.");case 11:O(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(N.a,{className:"d-flex align-items-center justify-content-center mt-3",children:[Object(a.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(a.jsx)(V.a,{children:Object(a.jsxs)(V.a.Body,{children:[i&&Object(a.jsx)(z.a,{variant:"danger",children:i}),Object(a.jsx)(C.a,{onSubmit:h,children:Object(a.jsx)(D.a,{disabled:u,className:"w-100",type:"submit",children:"Log out"})})]})})}),!u&&!n&&Object(a.jsx)(d.c,{to:"/login"})]})},Y=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k,{}),Object(a.jsx)(N.a,{className:"d-flex justify-content-center",children:Object(a.jsxs)(d.g,{children:[Object(a.jsx)(d.d,{path:"/signup",component:K}),Object(a.jsx)(d.d,{path:"/login",component:J}),Object(a.jsx)(d.d,{path:"/logout",component:M}),Object(a.jsx)(d.d,{path:"/forgot-password",component:X}),Object(a.jsx)(d.d,{path:"/",exact:!0,component:_})]})})]})};var Q=function(){return Object(a.jsx)(m,{children:Object(a.jsx)(o.BrowserRouter,{basename:"/react-todo-2",children:Object(a.jsx)(Y,{})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root")),Z()}},[[80,1,2]]]);
//# sourceMappingURL=main.51232f3c.chunk.js.map